# OlodbServer module- **Version:** 0.1.2- **Author:** Marcello Del Buono <m.delbuono@onlabs.org>- **License:** MIT- **Content:**    - [class OlodbServer](#olodbserver-class)  
## OlodbServer classClass representing a concurrent JSON database server over WebSockets.It uses [ShareDB][] under the hood.A client implementation is [olojs][].  
### Constructor```javascriptvar olodb = new OlodbStore();```This will create a server bound to a [MongoDB][] database.For testing purposes it is also possible to bind to an in-memory database:```javascriptvar olodb = new OlodbStore("memory");```  
### OlodbServer.prototype.listen(httpServer) - async methodStarts listening to incoming client connections.- **httpServer** is a [nodejs http.Server](https://nodejs.org/dist/latest-v6.x/docs/api/http.html#http_class_http_server)  
### OlodbServer.prototype.fetchDocument(collection, docId) - async methodResolves the document content as plain javascript object.  
### OlodbServer.prototype.createDocument(collection, docId, value) - async methodCreates a new document with given value.  
### OlodbServer.prototype.auth(credentials)This method should be defined by the class user after instantiating a new OlodbServer.Based on the credentials object, this method should return a user name or null.A `null` username will be intended as the user with minimum permissions.By default it returns `null`.  
### OlodbServer.prototype.getUserRole(userName, collection, docId)This method should be defined by the class user after instantiating a new OlodbServer.For each combination of parameters `userName`, `collection` and `docId`, it should return one of the following:| Role         | meta data  |    body    ||--------------|:----------:|:----------:|| roles.OWNER  |     rw     |     rw     || roles.WRITER |     ro     |     rw     || roles.READER |     ro     |     ro     || roles.NONE   |     -      |     -      |By default it returns `olodb.roles.OWNER`.  
[ShareDB]: https://github.com/share/sharedb[olojs]: https://github.com/onlabsorg/olojs[MongoDB]: https://www.mongodb.com/  
